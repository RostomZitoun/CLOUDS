{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/Users/Majed/Desktop/lib/covidapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Majed/Desktop/lib/covidapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Majed/Desktop/lib/covidapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Majed/Desktop/lib/covidapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./DailyCovid.css';var _window=window,am4core=_window.am4core,am4charts=_window.am4charts;var DailyCovid=/*#__PURE__*/function(_React$Component){_inherits(DailyCovid,_React$Component);var _super=_createSuper(DailyCovid);function DailyCovid(){var _this;_classCallCheck(this,DailyCovid);_this=_super.call(this);_this.state={am4chart:false,data:null};return _this;}_createClass(DailyCovid,[{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(this.state.data==null)return true;return false;}},{key:\"UNSAFE__componentWillUpdate\",value:function UNSAFE__componentWillUpdate(){if(this.state.am4chart)this.state.am4chart.dispose();}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;am4core.ready(function(){//create chart\nam4core.useTheme(function(target){target.list=[am4core.color(\"#c44569\"),am4core.color(\"#546de5\"),am4core.color(\"#f5cd79\")];});var chart=am4core.create(\"covidxycluster\"+_this2.props.name,am4charts.XYChart);chart.legend=new am4charts.Legend();chart.legend.position='bottom';chart.legend.markers.template.width=chart.legend.markers.template.height=10;chart.legend.fontSize=12;var marker=chart.legend.markers.template.children.getIndex(0);chart.legend.labels.template.fill=am4core.color('#fff');chart.legend.valueLabels.template.fill=am4core.color('#fff');marker.cornerRadius(3,3,3,3);var xAxis=chart.xAxes.push(new am4charts.DateAxis());xAxis.dataFields.category='day';xAxis.renderer.cellStartLocation=0;xAxis.renderer.cellEndLocation=1;xAxis.renderer.grid.template.location=0;xAxis.renderer.labels.template.fill=am4core.color(\"#fff\");var yAxis=chart.yAxes.push(new am4charts.ValueAxis());yAxis.renderer.labels.template.fill=am4core.color(\"#fff\");yAxis.min=0;var createSeries=function createSeries(value,name){var series=chart.series.push(new am4charts.ColumnSeries());series.dataFields.valueY=value;series.dataFields.dateX='Date';series.name=name;series.tooltipText=\"{valueY}\";return series;};createSeries('Deaths','Total Deaths');createSeries('Recovered','Total Recovered');createSeries('Confirmed','Total Confirmed');chart.cursor=new am4charts.XYCursor();window.cursor=chart.cursor;chart.cursor.xAxis=xAxis;chart.cursor.fullWidthLineX=true;chart.cursor.lineX.fill=am4core.color(\"#fff\");chart.cursor.lineX.fillOpacity=0.2;xAxis.cursorTooltipEnabled=false;_this2.setState({am4chart:chart},function(){if(_this2.state.data){chart.data=_this2.state.data;}});});var execute=function execute(resp){var data=_this2.props.extract(resp);_this2.setState({data:data},function(){if(_this2.state.am4chart){var chart=_this2.state.am4chart;chart.data=data;}});};var retry=function retry(){_this2.props.load().then(function(resp){return resp.json();}).then(execute).catch(function(err){return retry;});};retry();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"grey header\",children:this.props.title}),/*#__PURE__*/_jsxs(\"table\",{className:\"summary\",children:[/*#__PURE__*/_jsx(\"tbody\",{style:{display:!this.state.data?\"none\":\"table\"},children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"covidxycluster\",id:\"covidxycluster\"+this.props.name})})}),this.state.data==null?/*#__PURE__*/_jsx(\"tbody\",{className:\"full\",children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]})})})}):null]})]});}}]);return DailyCovid;}(React.Component);export{DailyCovid as default};","map":{"version":3,"sources":["C:/Users/Majed/Desktop/lib/covidapp/src/components/DailyCovid.js"],"names":["React","window","am4core","am4charts","DailyCovid","state","am4chart","data","nextProps","nextState","dispose","ready","useTheme","target","list","color","chart","create","props","name","XYChart","legend","Legend","position","markers","template","width","height","fontSize","marker","children","getIndex","labels","fill","valueLabels","cornerRadius","xAxis","xAxes","push","DateAxis","dataFields","category","renderer","cellStartLocation","cellEndLocation","grid","location","yAxis","yAxes","ValueAxis","min","createSeries","value","series","ColumnSeries","valueY","dateX","tooltipText","cursor","XYCursor","fullWidthLineX","lineX","fillOpacity","cursorTooltipEnabled","setState","execute","resp","extract","retry","load","then","json","catch","err","title","display","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport './DailyCovid.css';\r\n\r\nlet {am4core, am4charts} = window;\r\n\r\nexport default class DailyCovid extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {am4chart: false, data: null};\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if ( this.state.data == null )\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    UNSAFE__componentWillUpdate() {\r\n        if ( this.state.am4chart )\r\n            this.state.am4chart.dispose();\r\n    } \r\n\r\n    componentDidMount() {\r\n        am4core.ready(() => {\r\n            //create chart\r\n            am4core.useTheme(target => {\r\n                target.list = [\r\n                    am4core.color(\"#c44569\"),\r\n                    am4core.color(\"#546de5\"),\r\n                    am4core.color(\"#f5cd79\")\r\n                ];\r\n            });\r\n            let chart = am4core.create(\"covidxycluster\" + this.props.name, am4charts.XYChart);\r\n            chart.legend = new am4charts.Legend()\r\n            chart.legend.position = 'bottom'\r\n            chart.legend.markers.template.width = chart.legend.markers.template.height = 10;\r\n            chart.legend.fontSize = 12;\r\n            let marker = chart.legend.markers.template.children.getIndex(0);\r\n            chart.legend.labels.template.fill = am4core.color('#fff');\r\n            chart.legend.valueLabels.template.fill = am4core.color('#fff');\r\n            marker.cornerRadius(3, 3, 3, 3);\r\n\r\n            let xAxis = chart.xAxes.push(new am4charts.DateAxis())\r\n            xAxis.dataFields.category = 'day'\r\n            xAxis.renderer.cellStartLocation = 0;\r\n            xAxis.renderer.cellEndLocation = 1;\r\n            xAxis.renderer.grid.template.location = 0;\r\n            xAxis.renderer.labels.template.fill = am4core.color(\"#fff\");\r\n\r\n            let yAxis = chart.yAxes.push(new am4charts.ValueAxis());\r\n            yAxis.renderer.labels.template.fill = am4core.color(\"#fff\");\r\n            yAxis.min = 0;\r\n\r\n            let createSeries = (value, name) => {\r\n                let series = chart.series.push(new am4charts.ColumnSeries())\r\n                series.dataFields.valueY = value;\r\n                series.dataFields.dateX = 'Date';\r\n                series.name = name;\r\n                series.tooltipText = \"{valueY}\";\r\n            \r\n                return series;\r\n            }\r\n\r\n            createSeries('Deaths', 'Total Deaths');\r\n            createSeries('Recovered', 'Total Recovered');\r\n            createSeries('Confirmed', 'Total Confirmed');\r\n            chart.cursor = new am4charts.XYCursor();\r\n            window.cursor = chart.cursor;\r\n\r\n            chart.cursor.xAxis = xAxis;\r\n            chart.cursor.fullWidthLineX = true;\r\n            chart.cursor.lineX.fill = am4core.color(\"#fff\");\r\n            chart.cursor.lineX.fillOpacity = 0.2;\r\n            xAxis.cursorTooltipEnabled = false;\r\n\r\n            this.setState({am4chart: chart}, () => {\r\n                if ( this.state.data ) { \r\n                    chart.data = this.state.data;\r\n                } \r\n            });           \r\n        });\r\n\r\n        let execute = (resp) => {\r\n            let data = this.props.extract(resp);\r\n\r\n            this.setState({\r\n                data\r\n            }, () => {\r\n                if ( this.state.am4chart ) {\r\n                    let chart = this.state.am4chart;\r\n                    chart.data = data;\r\n                }\r\n            });\r\n        };\r\n\r\n        let retry = () => {\r\n            this.props.load().then(\r\n                resp => resp.json()\r\n            ).then(\r\n                execute\r\n            ).catch(err => retry);\r\n        }; retry();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1 className=\"grey header\">{this.props.title}</h1>\r\n                <table className=\"summary\">\r\n                    <tbody style={{display: !this.state.data ? \"none\" : \"table\"}}>\r\n                        <tr><td className=\"covidxycluster\" id={\"covidxycluster\" + this.props.name}>\r\n                        </td></tr>\r\n                    </tbody>\r\n\r\n                    {this.state.data == null ?\r\n                        <tbody className=\"full\">\r\n                        <tr><td>\r\n                                <div className=\"loading\">\r\n                                    <div></div>\r\n                                    <div></div>\r\n                                    <div></div>\r\n                                </div>\r\n                            </td></tr>\r\n                        </tbody>\r\n                        :\r\n                        null\r\n                    }\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}